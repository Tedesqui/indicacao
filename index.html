<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mande sua Indicação</title>
    <style>
        /* CSS para um visual moderno e responsivo */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f5f7;
            color: #172b4d;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: #ffffff;
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            box-sizing: border-box;
            position: relative; /* Necessário para a mensagem de sucesso */
        }

        h1 {
            text-align: center;
            color: #091e42;
            margin-bottom: 25px;
            font-size: 24px;
        }

        .form-group {
            margin-bottom: 22px;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #42526e;
        }

        input[type="text"],
        textarea,
        input[type="file"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #dfe1e6;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
            outline: none;
        }

        input[type="file"] {
            padding: 8px;
            background-color: #fafbfc;
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
        }

        .required-info {
            font-size: 14px;
            color: #6b778c;
            text-align: center;
            margin-top: 20px;
        }

        /* Estilo para a mensagem de sucesso */
        #successMessage {
            display: none; /* Começa escondida */
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Relatório de Problema</h1>

        <!-- Div para a mensagem de sucesso -->
        <div id="successMessage">
            SUA MENSAGEM FOI ENVIADA E SERÁ ANALISADA O MAIS RÁPIDO POSSÍVEL
        </div>

        <!-- 
            AVISO IMPORTANTE SOBRE O ENVIO:
            A ação "mailto:" abrirá o cliente de e-mail padrão do usuário (Outlook, Gmail App, etc.).
            O envio do anexo (a foto) pode não funcionar de forma consistente.
            
            Instrução: Altere "seu-email-de-destino@exemplo.com" para o e-mail que deve receber os relatórios.
        -->
        <form 
            id="reportForm"
            action="mailto:jeantedesqui@yahoo.com.br?subject=Novo Relatório de Problema" 
            method="post" 
            enctype="text/plain"
            target="_blank" <!-- Abre o e-mail em uma nova aba, mantendo a página do formulário -->
        >
            <div class="form-group">
                <label for="nome">1. Seu Nome Completo</label>
                <input type="text" id="nome" name="Nome do Relator" placeholder="Digite seu nome" required>
            </div>
            
            <div class="form-group">
                <label for="endereco">2. Endereço da Indicação</label>
                <input type="text" id="endereco" name="Endereço do Problema" placeholder="Rua, número, bairro e ponto de referência" required>
            </div>

            <div class="form-group">
                <label for="descricao">3. Descrição Detalhada</label>
                <textarea id="descricao" name="Descrição do Problema" rows="5" placeholder="Ex: Buraco na rua, vazamento de água, poste com luz queimada..." required></textarea>
            </div>

            <div class="form-group">
                <label for="foto">4. Tire uma Foto da Indicação</label>
                <!-- O atributo 'capture' sugere o uso da câmera em dispositivos móveis -->
                <input type="file" id="foto" name="Anexo (Foto)" accept="image/*" capture="environment" required>
            </div>

            <button type="submit">Enviar Relatório por E-mail</button>

            <p class="required-info">Todos os campos são obrigatórios para o envio.</p>
        </form>
    </div>

    <script>
        // Pega os elementos do formulário e da mensagem
        const reportForm = document.getElementById('reportForm');
        const successMessage = document.getElementById('successMessage');

        // Adiciona um "ouvinte" para o evento de envio do formulário
        reportForm.addEventListener('submit', function(event) {
            // Verifica se todos os campos obrigatórios estão preenchidos
            if (reportForm.checkValidity()) {
                // Se estiverem, mostra a mensagem de sucesso
                successMessage.style.display = 'block';

                // Limpa o formulário para um novo envio
                // Usamos um pequeno atraso para garantir que os dados sejam enviados antes de limpar
                setTimeout(() => {
                    reportForm.reset();
                }, 100);

                // Esconde a mensagem de sucesso após 5 segundos
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000); // 5000 milissegundos = 5 segundos
            }
        });
    </script>

</body>
</html>
